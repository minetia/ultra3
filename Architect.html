<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ï£ºÍµ∞Ïùò AI AUTO v25.0 (Expansion)</title>
    <style>
        :root { --bg: #0b0e11; --card: #1e2329; --up: #0ecb81; --down: #f6465d; --gold: #f0b90b; --text: #eaecef; --slot-bg: #2b3139; --danger: #ff0000; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 12px; padding-bottom: 30px; }
        
        .summary-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 12px; }
        .stat-card { background: var(--card); padding: 12px; border-radius: 4px; text-align: center; border: 1px solid #333; }
        .stat-card small { color: #848e9c; font-size: 10px; display: block; margin-bottom: 4px; font-weight: 500; }
        .stat-card .val { font-size: 15px; font-weight: 700; color: #fff; font-family: 'Roboto', sans-serif; }

        .terminal-box { background: #161a1e; border: 1px solid #2b3139; border-radius: 8px; padding: 12px; margin-bottom: 12px; min-height: 280px; position: relative; }
        .terminal-header { border-bottom: 1px solid #2b3139; padding-bottom: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .header-title { font-size: 12px; font-weight: bold; color: #848e9c; letter-spacing: 0.5px; }

        .ai-status-area { display: flex; align-items: center; gap: 6px; }
        .ai-activity { font-size: 10px; color: var(--gold); font-weight: 600; }
        .hud-badge { font-size: 10px; font-weight: 800; padding: 2px 6px; border-radius: 2px; background: #2b3139; color: #848e9c; }
        .hud-badge.ai-on { background: rgba(240, 185, 11, 0.2); color: var(--gold); border: 1px solid var(--gold); }

        .slot-container { display: flex; flex-direction: column; gap: 8px; }
        
        .slot-item { 
            background: var(--slot-bg); 
            border-radius: 4px; padding: 12px; 
            border-left: 4px solid #444; 
            display: flex; justify-content: space-between; align-items: center;
            transition: background-color 0.2s ease;
            cursor: pointer; user-select: none;
        }
        .slot-item:active { transform: scale(0.98); background: #333; }
        .flash-up { background-color: rgba(14, 203, 129, 0.2) !important; }
        .flash-down { background-color: rgba(246, 70, 93, 0.2) !important; }

        .coin-info { display: flex; flex-direction: column; gap: 5px; }
        .coin-header { display: flex; align-items: center; gap: 6px; }
        .coin-sym { font-size: 15px; font-weight: 800; color: #fff; }
        .lev-badge { font-size: 10px; background: #444; color: #ccc; padding: 1px 4px; border-radius: 2px; font-weight: bold; }
        .side-badge { font-size: 10px; font-weight: 900; padding: 1px 4px; border-radius: 2px; }
        .side-long { color: var(--up); background: rgba(14, 203, 129, 0.15); }
        .side-short { color: var(--down); background: rgba(246, 70, 93, 0.15); }
        .auto-tag { display: inline-block; font-size: 9px; font-weight: bold; color: #000; background: var(--gold); padding: 0 4px; border-radius: 2px; margin-left: 5px; }

        .detail-row { font-size: 11px; color: #848e9c; display: flex; gap: 10px; font-family: 'Roboto', sans-serif; }
        
        .liq-row { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
        .liq-label { color: #848e9c; }
        .liq-val { color: #f0b90b; font-weight: bold; }
        .liq-dist { font-size: 10px; font-weight: bold; color: #888; }
        
        @keyframes blinkRed { 0% { color: #888; } 50% { color: var(--danger); } 100% { color: #888; } }
        .danger-dist { color: var(--danger) !important; animation: blinkRed 1s infinite; font-weight: 900; }

        .slot-right { text-align: right; display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
        .pnl-text { font-size: 14px; font-weight: bold; margin-left: 5px; }
        
        .close-btn { background: #2b3139; border: 1px solid #444; color: #848e9c; padding: 4px 8px; font-size: 10px; border-radius: 4px; cursor: pointer; margin-top: 4px; z-index: 10; }

        .control-panel { 
            background: var(--card); padding: 15px; border-radius: 8px; border: 1px solid #2b3139; 
            display: flex; flex-direction: column; gap: 10px; margin-bottom: 12px; 
            transition: border-color 0.3s;
        }
        .input-row { display: grid; grid-template-columns: 1.3fr 1.1fr 1fr; gap: 8px; }
        select, input { width: 100%; padding: 12px; background: #0b0e11; border: 1px solid #2b3139; border-radius: 4px; color: #fff; font-weight: bold; font-size: 13px; outline: none; box-sizing: border-box; }
        select:disabled { color: #555; background: #111; border-color: #222; }
        optgroup { color: #848e9c; font-weight: bold; }

        .dca-panel {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px;
            background: #111; padding: 10px; border-radius: 4px; border: 1px dashed #444;
        }
        .dca-label { font-size: 10px; color: #848e9c; display: block; margin-bottom: 4px; }

        .btn-row { display: flex; gap: 8px; }
        .btn { flex: 1; padding: 14px; border: none; border-radius: 4px; font-weight: 700; font-size: 14px; cursor: pointer; }
        .btn-long { background: var(--up); color: #fff; }
        .btn-short { background: var(--down); color: #fff; }
        .btn-auto { background: #2b3139; color: #848e9c; border: 1px solid #444; }
        .btn-auto.on { background: rgba(240, 185, 11, 0.15); color: var(--gold); border: 1px solid var(--gold); }

        .log-box { padding: 12px; background: #0b0e11; border-radius: 4px; height: 100px; overflow-y: scroll; font-size: 11px; color: #848e9c; border: 1px solid #2b3139; font-family: monospace; }
        .auto-tag { display: inline-block; font-size: 9px; font-weight: bold; color: #000; background: var(--gold); padding: 0 4px; border-radius: 2px; margin-left: 5px; }
    </style>
</head>
<body>

    <div class="summary-grid">
        <div class="stat-card"><small>Ï¥ù ÏûêÏÇ∞ (USDT)</small><div id="total-val" class="val">10,000.00</div></div>
        <div class="stat-card"><small>ÌôúÏÑ± Ïä¨Î°Ø</small><div class="val"><span id="active-count" style="color:var(--gold)">0</span> / 10</div></div>
        <div class="stat-card"><small>ÎØ∏Ïã§ÌòÑ ÏÜêÏùµ</small><div id="pnl-val" class="val">0.00</div></div>
    </div>

    <div class="terminal-box">
        <div class="terminal-header">
            <span class="header-title">Ï†ÑÏà† ÏÉÅÌô©Ìåê (MAX 10)</span>
            <div class="ai-status-area">
                <span id="ai-activity-text" class="ai-activity"></span>
                <span id="ai-badge" class="hud-badge">AI Ï†ïÏßÄ</span>
            </div>
        </div>
        <div id="slot-container" class="slot-container">
            <div id="empty-msg" style="text-align:center;color:#444;padding:40px 0;font-size:12px;">Î≥¥Ïú† Ìè¨ÏßÄÏÖò ÏóÜÏùå</div>
        </div>
    </div>

    <div class="control-panel" id="control-panel">
        <div class="input-row">
            <select id="coin-select">
                <optgroup label="‚òÖ MAIN CORE">
                    <option value="BTC">BTC</option><option value="ETH">ETH</option><option value="SOL">SOL</option>
                    <option value="XRP">XRP</option><option value="ZRX">ZRX</option><option value="ONDO">ONDO</option><option value="SUI">SUI</option>
                </optgroup>
                <optgroup label="MEME & ALTS">
                    <option value="DOGE">DOGE</option><option value="WIF">WIF</option><option value="PEPE">PEPE</option>
                    <option value="BNB">BNB</option><option value="ADA">ADA</option><option value="LINK">LINK</option>
                    <option value="AVAX">AVAX</option><option value="SHIB">SHIB</option><option value="NEAR">NEAR</option>
                </optgroup>
            </select>
            <select id="market-select" onchange="handleMarketChange()">
                <option value="SPOT">ÌòÑÎ¨º (SPOT)</option>
                <option value="FUT">ÏÑ†Î¨º (FUT)</option>
            </select>
            <select id="lev-select" disabled>
                <option value="1">1x</option><option value="5">5x</option><option value="10" selected>10x</option>
                <option value="20">20x</option><option value="50">50x</option><option value="100">100x</option><option value="125">125x</option>
            </select>
        </div>
        <input type="number" id="margin-input" placeholder="Ï£ºÎ¨∏ Í∏àÏï° (USDT)" value="1000">
        
        <div class="dca-panel">
            <div>
                <span class="dca-label">Ï∂îÎß§ Í∏∞Ï§Ä (Gap %)</span>
                <input type="number" id="dca-gap" value="-2.0" step="0.1">
            </div>
            <div>
                <span class="dca-label">Ï∂îÎß§ Î∞∞Ïàò (Multi)</span>
                <input type="number" id="dca-mult" value="1.0" step="0.1">
            </div>
            <div>
                <span class="dca-label">ÏûêÎèô Ï∂îÎß§</span>
                <button id="dca-btn" class="btn-auto" style="width:100%; padding:10px; font-size:11px;" onclick="toggleDCA()">OFF</button>
            </div>
        </div>

        <div class="btn-row">
            <button class="btn btn-long" onclick="manualEntry('LONG')">Îß§Ïàò / Î°±</button>
            <button id="short-btn" class="btn btn-short" onclick="manualEntry('SHORT')" disabled>Îß§ÎèÑ / Ïàè</button>
        </div>
        <div class="btn-row" style="margin-top:8px;">
             <button id="auto-btn" class="btn btn-auto" onclick="toggleAuto()">ü§ñ AI ÏûêÎèôÎß§Îß§ (ÏµúÎåÄ 10Ï¢Ö)</button>
        </div>
    </div>

    <div class="log-box" id="sys-log">> Ïä¨Î°Ø ÌôïÏû• ÏôÑÎ£å. ÏµúÎåÄ 10Í∞ú ÏΩîÏù∏ Ïö¥Ïö© Í∞ÄÎä•.</div>

<script>
    let cash = 10000; 
    let portfolio = {}; 
    let prices = {}; 
    let prevPrices = {}; 
    let isAuto = false;
    let isDCA = false;
    const MAX_SLOTS = 10; // [Î≥ÄÍ≤Ω] ÏµúÎåÄ Ïä¨Î°Ø 10Í∞ú
    const coins = ["BTC","ETH","SOL","XRP","ZRX","ONDO","SUI","DOGE","WIF","PEPE","BNB","ADA","LINK","AVAX","SHIB","NEAR"];

    async function fetchPrices() {
        for (let sym of coins) {
            try {
                const res = await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${sym}USDT`);
                const data = await res.json(); 
                if (prices[sym]) prevPrices[sym] = prices[sym];
                prices[sym] = parseFloat(data.price);
            } catch(e) {}
        }
        checkLiquidation();
        updateDashboard(); 
        if(isAuto || isDCA) runAutoLogic();
    }

    function selectActiveCoin(symbol, market) {
        const coinSelect = document.getElementById('coin-select');
        const marketSelect = document.getElementById('market-select');
        const controlPanel = document.getElementById('control-panel');
        coinSelect.value = symbol;
        marketSelect.value = market;
        handleMarketChange();
        controlPanel.style.borderColor = 'var(--gold)';
        controlPanel.style.boxShadow = '0 0 10px rgba(240, 185, 11, 0.2)';
        setTimeout(() => {
            controlPanel.style.borderColor = '#2b3139';
            controlPanel.style.boxShadow = 'none';
        }, 300);
    }

    function handleMarketChange() {
        const market = document.getElementById('market-select').value;
        const levSelect = document.getElementById('lev-select');
        const shortBtn = document.getElementById('short-btn');
        if (market === "SPOT") {
            levSelect.value = "1"; levSelect.disabled = true;
            shortBtn.disabled = true; shortBtn.style.opacity = "0.3";
        } else {
            levSelect.disabled = false; if(levSelect.value === "1") levSelect.value = "10";
            shortBtn.disabled = false; shortBtn.style.opacity = "1";
        }
    }

    function executeEntry(symbol, marginUSD, market, side, lev, isAutoTrade, reason="") {
        if (!prices[symbol] || cash < marginUSD) return;
        const price = prices[symbol];
        const qty = (marginUSD * lev) / price;

        if (portfolio[symbol]) {
            const oldSize = portfolio[symbol].amount * portfolio[symbol].avg;
            const newSize = marginUSD * lev;
            const newTotalQty = portfolio[symbol].amount + qty;
            portfolio[symbol].avg = (oldSize + newSize) / newTotalQty;
            portfolio[symbol].amount = newTotalQty;
            portfolio[symbol].margin += marginUSD;
            addLog(isAutoTrade ? "[AI] Ï∂îÎß§" : "[ÏÑ§Ï†ï] Ï∂îÎß§", `${symbol} ${reason} (+$${Math.floor(marginUSD)})`, "var(--gold)");
        } else {
            // [Î≥ÄÍ≤Ω] MAX_SLOTS(10) Ï≤¥ÌÅ¨
            if (Object.keys(portfolio).length >= MAX_SLOTS) return;
            portfolio[symbol] = { 
                amount: qty, avg: price, margin: marginUSD, 
                market: market, side: side, lev: lev, isAuto: isAutoTrade
            };
            addLog(isAutoTrade ? "[AI] ÏßÑÏûÖ" : "ÏßÑÏûÖ", `${symbol} ${side} x${lev}`, side==="LONG"?"var(--up)":"var(--down)");
        }
        cash -= marginUSD;
        updateDashboard();
    }

    function manualEntry(side) {
        const sym = document.getElementById('coin-select').value;
        const market = document.getElementById('market-select').value;
        const amt = parseFloat(document.getElementById('margin-input').value);
        let lev = parseInt(document.getElementById('lev-select').value);
        if(market === "SPOT") { side = "LONG"; lev = 1; }
        executeEntry(sym, amt, market, side, lev, false);
    }

    function getLiqPrice(d) {
        if (d.lev === 1) return 0;
        if (d.side === "LONG") return d.avg * (1 - (1 / d.lev));
        else return d.avg * (1 + (1 / d.lev));
    }

    function checkLiquidation() {
        for (let sym in portfolio) {
            const d = portfolio[sym];
            const p = prices[sym];
            const liq = getLiqPrice(d);
            if (d.lev > 1) { 
                if ((d.side === "LONG" && p <= liq) || (d.side === "SHORT" && p >= liq)) {
                    delete portfolio[sym];
                    addLog("Ï≤≠ÏÇ∞", `üí• ${sym} Í∞ïÏ†ú Ï≤≠ÏÇ∞ (Í∞ÄÍ≤©: ${p})`, "var(--down)");
                }
            }
        }
    }

    function updateDashboard() {
        const container = document.getElementById('slot-container');
        if (Object.keys(portfolio).length === 0) {
            if(!document.getElementById('empty-msg')) container.innerHTML = '<div id="empty-msg" style="text-align:center;color:#444;padding:40px 0;font-size:12px;">Î≥¥Ïú† Ìè¨ÏßÄÏÖò ÏóÜÏùå</div>';
        } else {
            if(document.getElementById('empty-msg')) document.getElementById('empty-msg').remove();
        }

        let totalUnrealizedPnL = 0; 
        let usedMargin = 0;
        let activeCount = 0;

        for (let sym in portfolio) {
            activeCount++;
            const d = portfolio[sym];
            const p = prices[sym] || d.avg;
            const prevP = prevPrices[sym] || p;
            const liq = getLiqPrice(d);

            let pnlValue = 0;
            if (d.side === "LONG") pnlValue = (p - d.avg) * d.amount;
            else pnlValue = (d.avg - p) * d.amount;
            const roe = (pnlValue / d.margin) * 100;
            totalUnrealizedPnL += pnlValue;
            usedMargin += d.margin;

            // Ï≤≠ÏÇ∞ Gap Í≥ÑÏÇ∞
            let distText = "";
            let dangerClass = "";
            if (d.lev > 1) {
                const gapPrice = Math.abs(p - liq);
                const gapPercent = ((liq - p) / p) * 100;
                distText = `Gap: ${gapPrice < 1 ? gapPrice.toFixed(4) : gapPrice.toFixed(2)} (${gapPercent > 0 ? '+' : ''}${gapPercent.toFixed(1)}%)`;
                if (Math.abs(gapPercent) < 3.0) dangerClass = "danger-dist";
            }

            let slot = document.getElementById(`slot-${sym}`);
            if (!slot) {
                slot = document.createElement('div');
                slot.id = `slot-${sym}`;
                slot.className = 'slot-item';
                slot.setAttribute('onclick', `selectActiveCoin('${sym}', '${d.market}')`);
                slot.innerHTML = `
                    <div class="coin-info">
                        <div class="coin-header">
                            <span class="coin-sym">${sym}</span>
                            <span class="lev-badge">${d.market === 'SPOT' ? 'ÌòÑÎ¨º' : 'ÏÑ†Î¨º'} x${d.lev}</span>
                            <span class="side-badge ${d.side==='LONG'?'side-long':'side-short'}">${d.side}</span>
                            ${d.isAuto ? '<span class="auto-tag">AI</span>' : ''}
                        </div>
                        <div class="detail-row">
                            <span>ÌèâÎã®: <span class="val-entry"></span></span>
                            <span>ÌòÑÏû¨: <span class="val-mark"></span></span>
                        </div>
                        <div class="detail-row liq-row">
                            <span class="liq-label">Ï≤≠ÏÇ∞Í∞Ä:</span>
                            <span class="liq-val"></span>
                            <span class="liq-dist"></span>
                        </div>
                    </div>
                    <div class="slot-right">
                        <span class="pnl-text"></span>
                        <span class="pnl-val" style="font-size:11px;"></span>
                        <button class="close-btn" onclick="event.stopPropagation(); closePosition('${sym}')">Ï†ïÏÇ∞(Close)</button>
                    </div>
                `;
                container.appendChild(slot);
            }

            slot.querySelector('.val-entry').innerText = p < 1 ? d.avg.toFixed(5) : d.avg.toLocaleString();
            slot.querySelector('.val-mark').innerText = p < 1 ? p.toFixed(5) : p.toLocaleString();
            
            const liqValEl = slot.querySelector('.liq-val');
            const liqDistEl = slot.querySelector('.liq-dist');
            if (d.lev > 1) {
                liqValEl.innerText = liq < 1 ? liq.toFixed(5) : liq.toLocaleString();
                liqDistEl.innerText = distText;
                liqDistEl.className = "liq-dist " + dangerClass; 
            } else {
                liqValEl.innerText = "-";
                liqDistEl.innerText = "";
            }
            
            const pnlText = slot.querySelector('.pnl-text');
            pnlText.innerText = (roe >= 0 ? '+' : '') + roe.toFixed(2) + '%';
            pnlText.style.color = roe >= 0 ? "var(--up)" : "var(--down)";
            
            const pnlVal = slot.querySelector('.pnl-val');
            pnlVal.innerText = (pnlValue >= 0 ? '+' : '') + pnlValue.toFixed(2);
            pnlVal.style.color = roe >= 0 ? "var(--up)" : "var(--down)";

            if (roe >= 0) { slot.classList.remove('minus'); slot.classList.add('plus'); } 
            else { slot.classList.remove('plus'); slot.classList.add('minus'); }

            slot.classList.remove('flash-up', 'flash-down');
            void slot.offsetWidth; 
            if (p > prevP) slot.classList.add('flash-up');
            else if (p < prevP) slot.classList.add('flash-down');
        }

        const existingSlots = container.querySelectorAll('.slot-item');
        existingSlots.forEach(el => {
            const id = el.id.replace('slot-', '');
            if (!portfolio[id]) el.remove();
        });

        const totalEquity = cash + usedMargin + totalUnrealizedPnL;
        document.getElementById('total-val').innerText = totalEquity.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
        // [Î≥ÄÍ≤Ω] ÌôúÏÑ± Ïä¨Î°Ø Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏ (MAX 10)
        document.getElementById('active-count').innerText = activeCount;
        
        const pnlEl = document.getElementById('pnl-val');
        pnlEl.innerText = (totalUnrealizedPnL >= 0 ? '+' : '') + totalUnrealizedPnL.toFixed(2);
        pnlEl.style.color = totalUnrealizedPnL >= 0 ? "var(--up)" : "var(--down)";
    }

    function closePosition(symbol) {
        if (!portfolio[symbol]) return;
        const d = portfolio[symbol];
        const p = prices[symbol];
        let pnlValue = (d.side === "LONG" ? (p - d.avg) : (d.avg - p)) * d.amount;
        cash += d.margin + pnlValue;
        delete portfolio[symbol];
        addLog("Ï†ïÏÇ∞", `${symbol} Ïã§ÌòÑÏÜêÏùµ: ${pnlValue.toFixed(2)}`, pnlValue>=0?"var(--up)":"var(--down)");
        updateDashboard();
    }

    function toggleDCA() {
        isDCA = !isDCA;
        const btn = document.getElementById('dca-btn');
        if(isDCA) { btn.innerText = "ON (Í∞êÏãúÏ§ë)"; btn.classList.add('on'); addLog("ÏãúÏä§ÌÖú", "Ïä§ÎßàÌä∏ Î¨ºÌÉÄÍ∏∞(DCA) ÌôúÏÑ±Ìôî", "var(--gold)"); } 
        else { btn.innerText = "OFF"; btn.classList.remove('on'); addLog("ÏãúÏä§ÌÖú", "Ïä§ÎßàÌä∏ Î¨ºÌÉÄÍ∏∞(DCA) Ìï¥Ï†ú", "#888"); }
    }

    function toggleAuto() {
        isAuto = !isAuto;
        document.getElementById('auto-btn').classList.toggle('on', isAuto);
        document.getElementById('ai-badge').className = isAuto ? "hud-badge ai-on" : "hud-badge";
        document.getElementById('ai-badge').innerText = isAuto ? "AI Í∞ÄÎèô" : "AI Ï†ïÏßÄ";
        document.getElementById('ai-activity-text').innerText = isAuto ? "ÌÉêÏÉâ Ï§ë..." : "";
    }

    function runAutoLogic() {
        const activity = document.getElementById('ai-activity-text');
        
        if (isDCA) {
            const gap = parseFloat(document.getElementById('dca-gap').value);
            const mult = parseFloat(document.getElementById('dca-mult').value);
            for (let sym in portfolio) {
                const d = portfolio[sym];
                const p = prices[sym];
                let pnlValue = (d.side === "LONG" ? (p - d.avg) : (d.avg - p)) * d.amount;
                const roe = (pnlValue / d.margin) * 100;
                if (roe <= gap && Math.random() > 0.98) {
                    const addAmount = 1000 * mult;
                    if (cash >= addAmount) {
                        executeEntry(sym, addAmount, d.market, d.side, d.lev, true, `(DCA ${roe.toFixed(2)}%)`);
                    }
                }
            }
        }

        if (isAuto) {
            // [Î≥ÄÍ≤Ω] MAX_SLOTS(10) Ï≤¥ÌÅ¨
            if (Math.random() > 0.98 && Object.keys(portfolio).length < MAX_SLOTS) {
                const pick = coins[Math.floor(Math.random()*coins.length)];
                if(!portfolio[pick]) {
                    const aiLev = [5, 10, 20][Math.floor(Math.random()*3)];
                    const aiSide = Math.random() > 0.5 ? "LONG" : "SHORT";
                    executeEntry(pick, 1000, "FUT", aiSide, aiLev, true);
                }
            }
            Object.keys(portfolio).forEach(sym => {
                const d = portfolio[sym];
                const p = prices[sym];
                let pnlValue = (d.side === "LONG" ? (p - d.avg) : (d.avg - p)) * d.amount;
                const roe = (pnlValue / d.margin) * 100;
                if (roe >= 5.0) { activity.innerText = "ÏùµÏ†à Ïã§Ìñâ..."; closePosition(sym); }
            });
        }
    }

    function addLog(action, msg, color) {
        const logBox = document.getElementById('sys-log');
        const time = new Date().toLocaleTimeString('ko-KR', {hour12:false, hour:'2-digit', minute:'2-digit', second:'2-digit'});
        logBox.innerHTML = `<div><span style="color:#555">[${time}]</span> <span style="color:${color};font-weight:bold">${action}</span> ${msg}</div>` + logBox.innerHTML;
    }

    handleMarketChange();
    setInterval(fetchPrices, 1000); 
</script>
</body>
</html>
